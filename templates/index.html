{% extends "base.html" %}

{% block title %}Inicio{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="animated-title text-center mb-4 title-rainbow-effect" style="font-size: 5rem;">Bienvenid@ a mi Web</h1>
        
    <!-- Contenedor para la imagen y el botón desplegable de GitHub -->
    <div class="d-flex justify-content-center align-items-center mb-5" style="position: relative; height: 300px;">
        <!-- Imagen con movimiento Arkanoid -->
        <img id="arkanoid-avatar" 
             src="{{ url_for('static', filename='img/1(11).png') }}" 
             alt="Aupachus" 
             class="img-fluid rounded-circle" 
             style="position: absolute; width: 100px; height: 100px; cursor: pointer; z-index: 1;"
             loading="lazy">
        
        <!-- Botón Desplegable de GitHub (se mantiene en su posición) -->
        <div class="dropdown" style="position: relative; z-index: 2;">
            <button class="btn btn-lg btn-secondary dropdown-toggle" type="button" id="githubDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                Github
            </button>
            <ul class="dropdown-menu" aria-labelledby="githubDropdown">
                <li><a class="dropdown-item" href="https://aupachus.github.io/HACKENVIRONMENT/" target="_blank" rel="noopener noreferrer">Hackenvironment</a></li>
                <li><a class="dropdown-item" href="https://aupachus.github.io/web2/#top" target="_blank" rel="noopener noreferrer">Web2</a></li>
                <li><a class="dropdown-item" href="https://aupachus.github.io/RUTAS-PAIS-VASCO/" target="_blank" rel="noopener noreferrer">Rutas-pais-vasco</a></li>
            </ul>
        </div>
    </div>
    
    <div class="text-readable">
        <!-- Bloque de texto traducible -->
        <div id="translatable-welcome-text">
            <p class="text-center mb-4">¡Hola! Soy Jesús Marín, pero puedes llamarme Aupachus.</p>
            <p class="text-center mb-4">Comparto recursos y conocimientos sobre programación y tecnología.</p>
            <p class="text-center mb-4">Aquí encontrarás cursos, tutoriales y enlaces útiles para aprender y mejorar tus habilidades.</p>
            <p class="text-center mb-4">Espero que disfrutes de tu visita y encuentres lo que buscas.</p>
            <p class="text-center mb-4">¡Gracias por estar aquí!</p>
            <p class="text-center mb-4">Si tienes alguna pregunta o sugerencia, no dudes en contactarme.</p>
        </div>
    
        <!-- Botones de Traducción -->
        <div class="text-center my-3" id="translation-buttons-container">
            <button class="btn btn-sm btn-outline-light m-1" data-lang="en">English</button>
            <button class="btn btn-sm btn-outline-light m-1" data-lang="eu">Euskera</button>
            <button class="btn btn-sm btn-outline-light m-1" data-lang="fr">Français</button>
            <button class="btn btn-sm btn-outline-light m-1" data-lang="de">Deutsch</button>
            <button class="btn btn-sm btn-outline-light m-1" data-lang="it">Italiano</button>
            <button class="btn btn-sm btn-outline-light m-1" data-lang="ru">Русский</button>
            <button class="btn btn-sm btn-outline-light m-1" data-lang="ja">日本語</button>
            <button class="btn btn-sm btn-outline-light m-1" data-lang="zh">中文</button>
            <button class="btn btn-sm btn-outline-primary m-1" data-lang="es">Español (Original)</button>
        </div>
    
        <div class="text-center mt-3">
            <a href="mailto:artemugiocursojava@gmail.com" class="btn btn-outline-success" style="font-size: 1.5rem; color: #007bff;">
                Escríbeme un correo
            </a>
        </div>
        
        <!-- Reproductor de música -->
        <div class="text-center mb-4">
            <div class="btn-group">
                <button id="prevButton" class="btn btn-secondary">⏮ Anterior</button>
                <button id="playButton" class="btn btn-success">▶ Reproducir</button>
                <button id="nextButton" class="btn btn-secondary">⏭ Siguiente</button>
                <button id="stopButton" class="btn btn-danger">■ Detener</button>
            </div>
            <div class="mt-3">
                <label for="trackSelector">Seleccionar pista:</label>
                <select id="trackSelector" class="form-select w-auto mx-auto d-inline-block" style="max-width: 300px;">
                    {% if music_tracks %}
                        {% for track in music_tracks %}
                            <option value="{{ loop.index0 }}">{{ track.name }}</option>
                        {% endfor %}
                    {% else %}
                        <option value="">No hay pistas disponibles</option>
                    {% endif %}
                </select>
            </div>
            <div class="mt-3">
                <label for="volumeControl">Volumen:</label>
                <input type="range" class="form-range w-50 mx-auto" id="volumeControl" min="0" max="1" step="0.1" value="0.7">
            </div>
        </div>
    </div>
    
    <script>
        // Función para animar texto (que faltaba en el original)
        function animateTextFlyOut(text, element) {
            if (!text || !element) return;
            
            // Limpiar el elemento
            element.innerHTML = '';
            
            // Crear un span para cada letra
            text.split('').forEach((char, index) => {
                const span = document.createElement('span');
                span.textContent = char === ' ' ? '&nbsp;' : char;
                span.style.display = 'inline-block';
                span.style.transition = `transform 0.5s ease, opacity 0.5s ease`;
                span.style.transitionDelay = `${index * 0.05}s`;
                element.appendChild(span);
                
                // Iniciar animación después de un pequeño retraso
                setTimeout(() => {
                    span.style.transform = `translate(${Math.random() * 200 - 100}px, ${Math.random() * 200 - 100}px)`;
                    span.style.opacity = '0';
                }, 50);
            });
            
            // Restaurar texto después de la animación
            setTimeout(() => {
                element.textContent = text;
            }, text.length * 100 + 1000);
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Configuración del movimiento Arkanoid para la imagen
            const avatar = document.getElementById('arkanoid-avatar');
            const container = avatar.parentElement;
            let posX = Math.random() * (container.clientWidth - 100);
            let posY = Math.random() * (container.clientHeight - 100);
            let speedX = (Math.random() - 0.5) * 8;
            let speedY = (Math.random() - 0.5) * 8;
            let isDragging = false;
            let dragOffsetX = 0;
            let dragOffsetY = 0;
            
            // Función para actualizar la posición
            function updatePosition() {
                if (isDragging) return;
                
                posX += speedX;
                posY += speedY;
                
                // Detección de colisiones con los bordes
                if (posX <= 0 || posX >= container.clientWidth - 100) {
                    speedX = -speedX * 1.05; // Aumentar velocidad ligeramente
                    avatar.style.filter = `hue-rotate(${Math.random() * 360}deg)`;
                }
                
                if (posY <= 0 || posY >= container.clientHeight - 100) {
                    speedY = -speedY * 1.05;
                    avatar.style.filter = `hue-rotate(${Math.random() * 360}deg)`;
                }
                
                // Aplicar posición
                avatar.style.left = posX + 'px';
                avatar.style.top = posY + 'px';
                
                requestAnimationFrame(updatePosition);
            }
            
            // Eventos para arrastrar la imagen
            avatar.addEventListener('mousedown', function(e) {
                isDragging = true;
                dragOffsetX = e.clientX - posX - container.getBoundingClientRect().left;
                dragOffsetY = e.clientY - posY - container.getBoundingClientRect().top;
                avatar.style.cursor = 'grabbing';
                avatar.style.transform = 'scale(1.1)';
            });
            
            document.addEventListener('mousemove', function(e) {
                if (!isDragging) return;
                
                posX = e.clientX - container.getBoundingClientRect().left - dragOffsetX;
                posY = e.clientY - container.getBoundingClientRect().top - dragOffsetY;
                
                // Limitar a los bordes
                posX = Math.max(0, Math.min(posX, container.clientWidth - 100));
                posY = Math.max(0, Math.min(posY, container.clientHeight - 100));
                
                avatar.style.left = posX + 'px';
                avatar.style.top = posY + 'px';
            });
            
            document.addEventListener('mouseup', function() {
                if (isDragging) {
                    isDragging = false;
                    avatar.style.cursor = 'pointer';
                    avatar.style.transform = 'scale(1)';
                    // Cambiar dirección al soltar
                    speedX = (Math.random() - 0.5) * 8;
                    speedY = (Math.random() - 0.5) * 8;
                    updatePosition();
                }
            });
            
            // Iniciar animación
            updatePosition();

            // Configuración de traducciones
            const translations = {
                'es': `
                    <p class="text-center mb-4">¡Hola! Soy Jesús Marín, pero puedes llamarme Aupachus.</p>
                    <p class="text-center mb-4">Comparto recursos y conocimientos sobre programación y tecnología.</p>
                    <p class="text-center mb-4">Aquí encontrarás cursos, tutoriales y enlaces útiles para aprender y mejorar tus habilidades.</p>
                    <p class="text-center mb-4">Espero que disfrutes de tu visita y encuentres lo que buscas.</p>
                    <p class="text-center mb-4">¡Gracias por estar aquí!</p>
                    <p class="text-center mb-4">Si tienes alguna pregunta o sugerencia, no dudes en contactarme.</p>
                `,
                'en': `
                    <p class="text-center mb-4">Hello! I'm Jesús Marín, but you can call me Aupachus.</p>
                    <p class="text-center mb-4">I share resources and knowledge about programming and technology.</p>
                    <p class="text-center mb-4">Here, you'll find courses, tutorials, and useful links to learn and improve your skills.</p>
                    <p class="text-center mb-4">I hope you enjoy your visit and find what you're looking for.</p>
                    <p class="text-center mb-4">Thank you for being here!</p>
                    <p class="text-center mb-4">If you have any questions or suggestions, feel free to contact me.</p>
                `,
                'eu': `
                    <p class="text-center mb-4">Kaixo! Jesús Marín naiz, baina Aupachus deitu nazakezu.</p>
                    <p class="text-center mb-4">Programazioari eta teknologiari buruzko baliabideak eta ezagutzak partekatzen ditut.</p>
                    <p class="text-center mb-4">Hemen ikastaroak, tutorialak eta zure trebetasunak ikasteko eta hobetzeko lotura erabilgarriak aurkituko dituzu.</p>
                    <p class="text-center mb-4">Zure bisita gozatzea eta bilatzen duzuna aurkitzea espero dut.</p>
                    <p class="text-center mb-4">Eskerrik asko hemen egoteagatik!</p>
                    <p class="text-center mb-4">Galderarik edo iradokizunik baduzu, ez izan zalantzarik nirekin harremanetan jartzeko.</p>
                `,
                'fr': `
                    <p class="text-center mb-4">Bonjour ! Je suis Jesús Marín, mais vous pouvez m'appeler Aupachus.</p>
                    <p class="text-center mb-4">Je partage des ressources et des connaissances sur la programmation et la technologie.</p>
                    <p class="text-center mb-4">Vous trouverez ici des cours, des tutoriels et des liens utiles pour apprendre et améliorer vos compétences.</p>
                    <p class="text-center mb-4">J'espère que vous apprécierez votre visite et que vous trouverez ce que vous cherchez.</p>
                    <p class="text-center mb-4">Merci d'être ici !</p>
                    <p class="text-center mb-4">Si vous avez des questions ou des suggestions, n'hésitez pas à me contacter.</p>
                `,
                'de': `
                    <p class="text-center mb-4">Hallo! Ich bin Jesús Marín, aber Sie können mich Aupachus nennen.</p>
                    <p class="text-center mb-4">Ich teile Ressourcen und Wissen über Programmierung und Technologie.</p>
                    <p class="text-center mb-4">Hier finden Sie Kurse, Tutorials und nützliche Links zum Lernen und Verbessern Ihrer Fähigkeiten.</p>
                    <p class="text-center mb-4">Ich hoffe, Sie genießen Ihren Besuch und finden, wonach Sie suchen.</p>
                    <p class="text-center mb-4">Danke, dass Sie hier sind!</p>
                    <p class="text-center mb-4">Wenn Sie Fragen oder Anregungen haben, zögern Sie nicht, mich zu kontaktieren.</p>
                `,
                'it': `
                    <p class="text-center mb-4">Ciao! Sono Jesús Marín, ma puoi chiamarmi Aupachus.</p>
                    <p class="text-center mb-4">Condivido risorse e conoscenze sulla programmazione e la tecnologia.</p>
                    <p class="text-center mb-4">Qui troverai corsi, tutorial e link utili per imparare e migliorare le tue competenze.</p>
                    <p class="text-center mb-4">Spero che la tua visita ti piaccia e che tu trovi quello che stai cercando.</p>
                    <p class="text-center mb-4">Grazie per essere qui!</p>
                    <p class="text-center mb-4">Se hai domande o suggerimenti, non esitare a contattarmi.</p>
                `,
                'ru': `
                    <p class="text-center mb-4">Привет! Я Хесус Марин, но вы можете называть меня Аупачус.</p>
                    <p class="text-center mb-4">Я делюсь ресурсами и знаниями о программировании и технологиях.</p>
                    <p class="text-center mb-4">Здесь вы найдете курсы, учебники и полезные ссылки для изучения и совершенствования своих навыков.</p>
                    <p class="text-center mb-4">Надеюсь, вам понравится ваш визит и вы найдете то, что ищете.</p>
                    <p class="text-center mb-4">Спасибо, что вы здесь!</p>
                    <p class="text-center mb-4">Если у вас есть какие-либо вопросы или предложения, не стесняйтесь обращаться ко мне.</p>
                `,
                'ja': `
                    <p class="text-center mb-4">こんにちは！ヘスス・マリンです。アウパチュスと呼んでください。</p>
                    <p class="text-center mb-4">プログラミングとテクノロジーに関するリソースと知識を共有しています。</p>
                    <p class="text-center mb-4">ここでは、スキルを学び向上させるためのコース、チュートリアル、役立つリンクを見つけることができます。</p>
                    <p class="text-center mb-4">ご訪問を楽しんで、お探しのものが見つかることを願っています。</p>
                    <p class="text-center mb-4">ここに来てくれてありがとう！</p>
                    <p class="text-center mb-4">ご質問やご提案がございましたら、お気軽にお問い合わせください。</p>
                `,
                'zh': `
                    <p class="text-center mb-4">你好！我是赫苏斯·马林，但你可以叫我奥帕楚斯。</p>
                    <p class="text-center mb-4">我分享关于编程和技术的资源和知识。</p>
                    <p class="text-center mb-4">在这里，你会找到课程、教程和有用的链接，以学习和提高你的技能。</p>
                    <p class="text-center mb-4">希望你喜欢这次访问并找到你想要的东西。</p>
                    <p class="text-center mb-4">感谢你来到这里！</p>
                    <p class="text-center mb-4">如果你有任何问题或建议，请随时与我联系。</p>
                `
            };

            // Event listeners para los botones de traducción
            const translationButtons = document.querySelectorAll('#translation-buttons-container button[data-lang]');
            const translatableTextContainer = document.getElementById('translatable-welcome-text');
            
            translationButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    if (translatableTextContainer && translations[lang]) {
                        // Animación de salida antes de cambiar el texto
                        animateTextFlyOut(translatableTextContainer.textContent, translatableTextContainer);
                        
                        // Cambiar el contenido después de un breve retraso
                        setTimeout(() => {
                            translatableTextContainer.innerHTML = translations[lang];
                        }, 500);
                    }
                });
            });

            // Animación para el botón de correo
            const mailBtn = document.querySelector('a[href^="mailto:"]');
            const buttonTranslations = [
                "Escríbeme un correo", // Español
                "Write me an email",   // English
                "Idatzi email bat",    // Euskera
                "Écris-moi un e-mail", // Français
                "Schreib mir eine E-Mail", // Deutsch
                "Scrivimi una mail",   // Italiano
                "Напиши мне письмо",  // Русский
                "メールを書いてください", // 日本語
                "给我写邮件"           // 中文
            ];

            if (mailBtn) {
                let currentLanguageIndex = 0;
                
                mailBtn.addEventListener('mouseover', function() {
                    this.style.color = '#e83e8c';
                });
                
                mailBtn.addEventListener('mouseout', function() {
                    this.style.color = '#007bff';
                });

                // Cambiar idioma cada 3 segundos
                setInterval(() => {
                    currentLanguageIndex = (currentLanguageIndex + 1) % buttonTranslations.length;
                    mailBtn.textContent = buttonTranslations[currentLanguageIndex];
                }, 3000);
            }
        });
    </script>

    <div class="text-center mt-4">
        <a href="{{ url_for('social') }}" class="btn btn-info">Explorar IA y Redes Sociales</a>
        <a href="{{ url_for('ver_pdfs') }}" class="btn btn-primary">Ver PDFs disponibles</a>
        <a href="{{ url_for('galeria') }}" class="btn btn-success">Galería de fotos</a>
        <a href="{{ url_for('social') }}" class="btn btn-warning">Redes Sociales</a>    
        <a href="{{ url_for('enlaces') }}" class="btn btn-danger">Enlaces</a>
        <a href="{{ url_for('cursos') }}" class="btn btn-secondary">Cursos</a>
        <a href="{{ url_for('opinion') }}" class="btn btn-dark">¿Y tú qué opinas?</a>
        <a href="https://basquesource.blogspot.com/2025/05/basque-source-first-commit.html" class="btn btn-outline-info" target="_blank" rel="noopener noreferrer">BLOGGER</a>
    </div>
    
    <p class="rainbow-text lorem-text-large">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<br>
    </p>
</div>
{% endblock %}